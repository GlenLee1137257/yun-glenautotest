# 🎯 Glen自动化测试平台 - 面试演练完整项目介绍

**文档版本**: v1.0  
**更新时间**: 2026-01-20  
**演练时长**: 30分钟  
**项目名称**: Glen自动化测试平台

---

## 📋 目录

- [一、项目概述](#一项目概述) (2分钟)
- [二、技术架构](#二技术架构) (3分钟)
- [三、系统架构与微服务](#三系统架构与微服务) (3分钟)
- [四、中间件说明](#四中间件说明) (2分钟)
- [五、数据库结构](#五数据库结构) (2分钟)
- [六、核心功能模块](#六核心功能模块) (8分钟)
- [七、项目部署演练](#七项目部署演练) (8分钟)
- [八、项目亮点与技术难点](#八项目亮点与技术难点) (2分钟)

---

## 一、项目概述

### 1.1 项目定位

Glen自动化测试平台是一个**企业级全栈自动化测试解决方案**，基于Spring Cloud微服务架构，支持：

- ✅ **接口自动化测试** (API Automation)
- ✅ **UI自动化测试** (UI Automation)  
- ✅ **性能压力测试** (Performance/Stress Testing)
- ✅ **定时任务调度** (Scheduled Test Plans)
- ✅ **测试报告管理** (Test Report Management)

### 1.2 应用场景

- 替代传统的 Postman + Swagger + JMeter + Selenium 工具组合
- 提供SaaS化、可视化的自动化测试平台
- 支持私有云和公有云部署
- 适用于电商、在线教育、金融保险等各类互联网公司

---

## 二、技术架构

### 2.1 后端技术栈

| 技术 | 版本 | 说明 |
|------|------|------|
| **Java** | 17 | JDK最新LTS版本 |
| **Spring Boot** | 3.0.2 | 微服务核心框架 |
| **Spring Cloud** | 2022.0.0 | 微服务治理 |
| **Spring Cloud Alibaba** | 2022.0.0.0-RC2 | 阿里云微服务套件 |
| **MyBatis Plus** | 3.5.3.1 | ORM框架 |
| **Sa-Token** | 1.37.0 | 权限认证框架 |
| **Nacos** | 2.2.1 | 服务注册与配置中心 |
| **Redis** | 7.0.8 | 缓存和会话存储 |
| **Kafka** | 3.3.2 | 消息队列（异步任务） |
| **MinIO** | 最新版 | 对象存储（文件上传） |
| **MySQL** | 8.0 | 关系型数据库 |

### 2.2 前端技术栈

| 技术 | 版本 | 说明 |
|------|------|------|
| **Vue** | 3.4.4 | 前端框架 |
| **Vite** | 5.0.10 | 构建工具 |
| **TypeScript** | 5.3.3 | 类型支持 |
| **Ant Design Vue** | 4.0.8 | UI组件库 |
| **Pinia** | 2.1.7 | 状态管理 |
| **Vue Router** | 4.2.5 | 路由管理 |
| **UnoCSS** | 0.58.3 | 原子化CSS |

### 2.3 测试引擎

| 引擎 | 版本 | 用途 |
|------|------|------|
| **RestAssured** | 5.3.2 | 接口测试核心库 |
| **Selenium** | 4.10.0 | UI测试核心库 |
| **JMeter** | 5.5 | 压测核心引擎 |

---

## 三、系统架构与微服务

### 3.1 系统架构图

```
┌─────────────────────────────────────────────────────────────┐
│                     前端应用 (Vue3)                           │
│                   http://localhost:5173                       │
└──────────────────────┬──────────────────────────────────────┘
                       │ HTTP
                       ▼
┌─────────────────────────────────────────────────────────────┐
│                  API网关 (Gateway)                            │
│              http://localhost:8000                            │
└──────┬────────┬──────────┬──────────┬───────────────────────┘
       │        │          │          │
       ▼        ▼          ▼          ▼
   ┌──────┐ ┌──────┐  ┌──────┐  ┌────────┐
   │8081  │ │8082  │  │8083  │  │8848    │
   │Account│ │Data  │  │Engine│  │Nacos   │
   └───┬──┘ └───┬──┘  └───┬──┘  └────┬───┘
       │        │          │          │
       └────────┴──────────┴──────────┘
                    │
        ┌───────────┼───────────┐
        │           │           │
        ▼           ▼           ▼
    ┌──────┐   ┌──────┐   ┌──────┐
    │MySQL │   │Redis │   │MinIO │
    │ 3307 │   │ 6379 │   │ 9000 │
    └──────┘   └──────┘   └──────┘
```

### 3.2 微服务架构

| 服务名称 | 端口 | 职责 | 数据库 |
|---------|------|------|--------|
| **gateway-service** | 8000 | API网关，统一入口，路由转发，权限校验 | - |
| **account-service** | 8081 | 账号服务，用户认证，角色权限管理 | glen_account |
| **data-service** | 8082 | 数据服务，测试报告管理，数据统计 | glen_stress |
| **engine-service** | 8083 | 引擎服务，项目管理、接口/UI/压测执行 | glen_engine, glen_api, glen_ui, glen_stress, glen_job |

### 3.3 服务间调用关系

```
前端 → Gateway → Account (认证授权)
              → Data (报告查询)
              → Engine (测试执行)
```

---

## 四、中间件说明

### 4.1 中间件清单

| 中间件 | 容器名 | 端口 | 用途 | 说明 |
|--------|--------|------|------|------|
| **MySQL** | glen-mysql | 3307 | 数据存储 | 主数据库，存储业务数据 |
| **Redis** | glen-redis | 6379 | 缓存/会话 | 缓存热点数据，存储Session |
| **Nacos** | glen-nacos | 8848, 9848, 9849 | 服务注册/配置中心 | 服务注册发现，配置管理 |
| **Zookeeper** | glen-zookeeper | 2181 | 协调服务 | Kafka依赖 |
| **Kafka** | glen-kafka | 9092 | 消息队列 | 异步任务处理 |
| **Kafdrop** | glen-kafdrop | 9002 | Kafka Web UI | Kafka管理界面，查看Topic和消息 |
| **MinIO** | glen-minio | 9000, 9001 | 对象存储 | 文件上传，存储JMX脚本、报告等 |

### 4.2 中间件配置说明

- **MySQL**: 密码 `glen123456`，字符集 `utf8mb4`
- **Redis**: 密码 `glen123456`，用于缓存和分布式锁
- **Nacos**: 账号 `nacos/nacos`，用于服务注册和配置管理
- **MinIO**: 账号 `admin/glen123456`，控制台端口9001

---

## 五、数据库结构

### 5.1 数据库清单

| 数据库名称 | 用途 | 主要表 |
|-----------|------|--------|
| **glen_account** | 账号权限 | account, role, permission, account_role, role_permission |
| **glen_api** | 接口自动化 | api_case, api_case_step, api_case_result |
| **glen_ui** | UI自动化 | ui_case, ui_case_step, ui_element |
| **glen_stress** | 压测引擎 | stress_case, stress_case_result, report |
| **glen_engine** | 引擎服务 | project, environment, stress_case_module |
| **glen_job** | 定时任务 | plan_job, plan_job_log |
| **glen_dict** | 系统字典 | sys_dict |
| **nacos_config** | Nacos配置 | config_info, config_info_aggr (Nacos自带) |

### 5.2 核心表结构

#### glen_account (账号权限)
- `account`: 账号表
- `role`: 角色表
- `permission`: 权限表
- `account_role`: 账号角色关联表
- `role_permission`: 角色权限关联表

#### glen_stress (测试报告)
- `report`: 测试报告主表
  - 字段: id, project_id, case_id, type, name, execute_state, start_time, end_time, expand_time, quantity, pass_quantity, fail_quantity

#### glen_engine (项目引擎)
- `project`: 项目表
- `environment`: 环境表（支持多环境配置）

#### glen_job (定时任务)
- `plan_job`: 定时任务表
  - 字段: id, project_id, case_id, test_type, execute_time, is_disabled
- `plan_job_log`: 任务执行日志表

---

## 六、核心功能模块

### 6.1 接口自动化测试

**功能特点**:
- 接口用例管理（支持CRUD）
- 多步骤编排（前置步骤、断言、后置处理）
- 环境变量支持（动态替换URL、参数）
- 参数化测试（CSV数据驱动）
- Mock服务支持
- 测试报告生成

**技术实现**:
- 核心库: RestAssured 5.3.2
- 异步执行: Kafka消息队列
- 报告存储: MinIO对象存储

**数据库**: `glen_api`

### 6.2 UI自动化测试

**功能特点**:
- UI用例管理
- 元素定位管理（支持多种定位方式）
- Selenium驱动执行
- 截图保存
- 测试报告生成

**技术实现**:
- 核心库: Selenium 4.10.0
- 浏览器驱动: Chrome/Firefox
- 元素定位: ID、XPath、CSS Selector等

**数据库**: `glen_ui`

### 6.3 压力测试

**功能特点**:
- JMeter脚本管理（JMX文件上传）
- 压测任务执行
- 实时监控（并发数、TPS、响应时间）
- 压测报告分析
- 报告导出

**技术实现**:
- 核心引擎: JMeter 5.5
- 脚本存储: MinIO
- 异步执行: 线程池 + Kafka

**数据库**: `glen_stress`

### 6.4 测试报告管理

**功能特点**:
- 报告列表查询（分页、筛选）
- 报告详情查看
- 报告删除/批量删除
- 报告导出（Excel）
- 报告类型: API、UI、STRESS

**技术实现**:
- 报告存储: MySQL + MinIO
- 报告查询: data-service
- 报告生成: 测试执行完成后自动生成

**数据库**: `glen_stress.report` 表

### 6.5 定时计划

**功能特点**:
- 定时任务创建（支持到分钟级别）
- 任务启用/禁用
- 任务执行日志
- 支持API/UI/STRESS三种类型
- 分布式锁保证单实例执行

**技术实现**:
- 定时调度: Spring Task (@Scheduled)
- 调度频率: 每分钟执行一次扫描
- 分布式锁: Redisson (基于Redis)
- 任务执行: ThreadPoolTaskScheduler

**数据库**: `glen_job.plan_job`, `glen_job.plan_job_log`

**执行流程**:
```
每分钟扫描 → 检查待执行任务 → 判断执行时间（1分钟内） → 
加分布式锁 → 执行测试用例 → 记录执行日志
```

---

## 七、项目部署演练

### 7.1 环境准备 (1分钟)

**必需软件**:
- JDK 17+
- Maven 3.9+
- Node.js 18+
- pnpm 8.8.0+
- Docker & Docker Compose

**环境检查**:
```bash
java -version  # 应显示 17.x.x
mvn -version   # 应显示 3.9.x
node -v        # 应显示 18.x.x
docker --version
```

### 7.2 启动Docker中间件 (2分钟)

```bash
cd /home/hinkad/yun-glenautotest
docker-compose up -d
```

**验证中间件**:
```bash
docker ps  # 查看容器状态，应看到6个容器运行
```

**中间件列表**:
- glen-mysql (端口3307)
- glen-redis (端口6379)
- glen-nacos (端口8848)
- glen-zookeeper (端口2181)
- glen-kafka (端口9092)
- glen-minio (端口9000, 9001)

### 7.3 数据库初始化 (2分钟)

```bash
cd /home/hinkad/yun-glenautotest
./init-database.sh
```

**脚本功能**:
- 自动创建8个业务数据库
- 导入表结构和基础数据
- 验证导入结果

**数据库清单**:
- glen_account, glen_api, glen_ui, glen_stress
- glen_engine, glen_job, glen_dict, nacos_config

### 7.4 部署后端服务 (2分钟)

**启动所有后端服务**:
```bash
cd /home/hinkad/yun-glenautotest
./start-backend.sh
```

**启动顺序**:
1. gateway-service (端口8000) - API网关
2. account-service (端口8081) - 账号服务
3. data-service (端口8082) - 数据服务
4. engine-service (端口8083) - 引擎服务

**验证服务**:
```bash
# 检查端口监听
for port in 8081 8082 8083 8000; do
    timeout 2 bash -c "echo > /dev/tcp/localhost/$port" 2>/dev/null && echo "✅ 端口 $port: 运行中" || echo "❌ 端口 $port: 未运行"
done
```

### 7.5 部署前端服务 (1分钟)

```bash
cd /home/hinkad/yun-glenautotest
./start-frontend.sh
```

**前端信息**:
- 框架: Vue3 + Vite
- 端口: 5173
- 访问地址: http://localhost:5173

### 7.6 系统访问地址

| 服务 | 访问地址 | 说明 |
|------|---------|------|
| **前端应用** | http://localhost:5173 | ⭐ 主要访问入口 |
| **网关服务** | http://localhost:8000 | API网关 |
| **Nacos控制台** | http://localhost:8848/nacos | nacos/nacos |
| **MinIO控制台** | http://localhost:9001 | admin/glen123456 |
| **Kafdrop (Kafka UI)** | http://localhost:9002 | Kafka管理界面 |

**测试账号**: `test` / `test123456`

---

## 八、项目亮点与技术难点

### 8.1 项目亮点

1. **微服务架构**: 基于Spring Cloud微服务架构，服务解耦，易于扩展
2. **容器化部署**: Docker容器化部署，环境一致性高
3. **权限管理**: 基于Sa-Token的细粒度权限控制（RBAC模型）
4. **多场景支持**: 支持接口、UI、压力测试多种场景
5. **异步任务**: 基于Kafka的异步任务处理，提升性能
6. **文件存储**: MinIO对象存储，支持大文件上传
7. **定时调度**: 分布式锁保证定时任务单实例执行
8. **最新技术栈**: Java 17 + Spring Boot 3 + Vue 3

### 8.2 技术难点

1. **跨服务数据查询**: 项目列表需要查询账号服务获取管理员名字
   - 解决方案: 使用OpenFeign进行服务间调用

2. **权限控制**: 网关层统一权限校验，基于角色的权限控制
   - 解决方案: Gateway + Sa-Token实现统一鉴权

3. **文件上传**: MinIO集成，大文件分片上传
   - 解决方案: MultipartFile + MinIO SDK

4. **异步任务**: Kafka消息队列，任务异步执行
   - 解决方案: Kafka Producer发送消息，Consumer异步处理

5. **定时任务分布式锁**: 防止多实例重复执行
   - 解决方案: Redisson分布式锁 + Redis

6. **服务注册与发现**: Nacos服务注册与配置中心
   - 解决方案: Nacos Discovery + Nacos Config

---

## 📊 项目统计

- **服务数量**: 4个后端服务（account、data、engine、gateway）
- **数据库数量**: 8个业务数据库
- **中间件数量**: 7个（MySQL、Redis、Nacos、Kafka、Zookeeper、MinIO、Kafdrop）
- **技术栈**: Java 17 + Spring Boot 3 + Vue 3
- **核心功能**: 接口自动化、UI自动化、压测、定时计划、测试报告

---

## 🎓 面试重点总结

### 1. 项目背景 (1分钟)
企业级自动化测试平台，支持接口、UI、压力测试多种场景，采用微服务架构。

### 2. 技术选型 (2分钟)
- **后端**: Spring Boot 3 + Spring Cloud + MyBatis Plus
- **前端**: Vue 3 + Vite + TypeScript
- **中间件**: Nacos、Redis、Kafka、MinIO

### 3. 核心功能 (3分钟)
- 账号权限管理（RBAC）
- 接口自动化测试（RestAssured）
- UI自动化测试（Selenium）
- 压力测试（JMeter）
- 定时任务调度（Spring Task + 分布式锁）
- 测试报告管理

### 4. 技术难点 (2分钟)
- 跨服务数据查询
- 网关层权限控制
- 异步任务处理
- 分布式锁

### 5. 项目亮点 (2分钟)
- 微服务架构
- 容器化部署
- 细粒度权限控制
- 多场景测试支持

---

## 📚 快速命令参考

```bash
# 启动中间件
docker-compose up -d

# 初始化数据库
./init-database.sh

# 启动后端
./start-backend.sh

# 停止后端
./stop-backend.sh

# 启动前端
./start-frontend.sh

# 重启后端
./restart-backend.sh
```

---

**文档位置**: `/home/hinkad/yun-glenautotest/markdown/00-面试演练完整项目介绍.md`  
**最后更新**: 2026-01-20
