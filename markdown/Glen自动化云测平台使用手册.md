# Glen 自动化云测平台使用手册

> **项目名称**: Glen AutoTest Platform  
> **版本**: v1.0  
> **更新日期**: 2026年1月12日

---

## 📋 目录

- [一、平台概述](#一平台概述)
- [二、快速开始](#二快速开始)
- [三、接口自动化测试](#三接口自动化测试)
- [四、UI自动化测试](#四ui自动化测试)
- [五、压力测试](#五压力测试)
- [六、测试报告](#六测试报告)
- [七、项目管理](#七项目管理)
- [八、面试展示要点](#八面试展示要点)

---

## 一、平台概述

### 1.1 平台简介

Glen 自动化云测平台是一个企业级自动化测试平台，支持**接口自动化测试**、**UI自动化测试**和**压力测试**三大核心功能，帮助团队提高测试效率，保障软件质量。

### 1.2 核心特性

- ✅ **多项目隔离**：支持多项目并行管理，数据完全隔离
- ✅ **多环境支持**：支持开发、测试、预发布、生产等多环境配置
- ✅ **模块化管理**：API、UI、压测用例按模块组织，便于管理
- ✅ **权限控制**：基于RBAC模型的权限管理
- ✅ **实时报告**：实时查看测试执行结果和详细报告
- ✅ **定时任务**：支持Cron表达式定时执行测试用例
- ✅ **云端执行**：测试用例在云端执行，无需本地环境

### 1.3 技术架构

- **后端**: Spring Boot 3.0 + Spring Cloud + MyBatis Plus
- **前端**: Vue 3 + Ant Design Vue + TypeScript
- **测试引擎**: 
  - 接口自动化：RestAssured
  - UI自动化：Selenium 4.10
  - 压测：Apache JMeter 5.5
- **中间件**: Nacos、Redis、Kafka、MinIO、MySQL

---

## 二、快速开始

### 2.1 登录系统

1. 访问前端地址：`http://localhost:5173`
2. 使用测试账号登录（默认账号：admin，密码：123456）
3. 登录成功后进入主界面

### 2.2 创建项目

1. 点击左侧菜单 **"项目管理"**
2. 点击 **"+ 新增"** 按钮
3. 填写项目信息：
   - **名称**：项目名称（如：电商平台测试）
   - **描述**：项目描述
4. 点击 **"保存"**
5. 项目创建后，当前登录用户自动成为项目管理员

### 2.3 配置环境

1. 点击左侧菜单 **"环境管理"**
2. 点击 **"+ 新增"** 按钮
3. 填写环境信息：
   - **名称**：环境名称（如：测试环境）
   - **协议**：http 或 https
   - **域名**：环境域名（如：test.example.com）
   - **端口**：端口号（如：80 或 443）
   - **描述**：环境描述
4. 点击 **"保存"**

**示例配置：**
- 测试环境：`http://test.example.com:80`
- 生产环境：`https://prod.example.com:443`

---

## 三、接口自动化测试

### 3.1 功能概述

接口自动化测试支持HTTP接口的自动化测试，包括：
- 多步骤接口场景编排
- 接口参数关联（提取变量、传递参数）
- 多种断言方式
- 详细测试报告

### 3.2 使用流程

#### 步骤1：创建API模块

1. 进入 **"接口自动化"** → **"接口管理"**
2. 在左侧模块区域，点击 **"+"** 按钮
3. 输入模块名称（如：用户模块）
4. 双击模块名称可重命名

#### 步骤2：添加API接口

1. 选择已创建的模块
2. 点击 **"+ 新增"** 按钮
3. 填写接口信息：
   - **名称**：接口名称（如：用户登录接口）
   - **描述**：接口描述
   - **等级**：P0/P1/P2（优先级）
   - **环境**：选择测试环境
   - **路径**：接口路径（如：/api/user/login）
   - **方法**：GET/POST/PUT/DELETE等
   - **查询参数**：URL参数（JSON格式）
   - **请求头**：HTTP请求头（JSON格式）
   - **请求体**：请求体内容
   - **Body类型**：JSON/form-data/x-www-form-urlencoded等
4. 点击 **"保存"**

**示例：用户登录接口**
```json
路径: /api/user/login
方法: POST
请求头: {"Content-Type": "application/json"}
请求体: {"username": "admin", "password": "123456"}
Body类型: JSON
```

#### 步骤3：创建API用例模块

1. 进入 **"接口自动化"** → **"用例管理"**
2. 在左侧模块区域，点击 **"+"** 按钮
3. 输入模块名称（如：登录流程测试）

#### 步骤4：创建API用例

1. 选择已创建的用例模块
2. 点击 **"+ 新增"** 按钮
3. 填写用例信息：
   - **名称**：用例名称（如：用户登录成功用例）
   - **描述**：用例描述
   - **等级**：P0/P1/P2
4. 点击 **"保存"**

#### 步骤5：添加用例步骤

1. 选择已创建的用例
2. 在用例详情页面，点击 **"+ 新增步骤"**
3. 填写步骤信息：
   - **步骤名称**：步骤名称（如：步骤1-用户登录）
   - **步骤描述**：步骤描述
   - **关联接口**：选择已创建的API接口
   - **断言**：配置断言规则（JSON格式）
   - **关联关系**：配置变量提取和传递

**断言配置示例：**
```json
{
  "responseCode": 200,
  "jsonPath": [
    {"path": "$.code", "operator": "equals", "value": "0"},
    {"path": "$.data.token", "operator": "notNull"}
  ],
  "responseTime": 1000
}
```

**关联关系配置：**
- **提取变量**：从响应中提取变量（如：token）
- **传递参数**：将变量传递给后续步骤

**示例：提取token并传递给后续接口**
```json
提取变量: {"token": "$.data.token"}
传递参数: 在后续步骤的请求头中使用 {{token}}
```

#### 步骤6：执行用例

1. 在用例列表中，点击用例的 **"执行"** 按钮
2. 系统会弹出执行窗口，显示执行进度
3. 执行完成后，可以查看：
   - 每个步骤的请求和响应
   - 断言结果
   - 执行时间
   - 整体执行状态

### 3.3 高级功能

#### 3.3.1 接口关联

接口关联是接口自动化测试的核心功能，用于在多步骤测试中实现数据传递和业务逻辑验证。

##### 关联变量的作用

**核心作用**：从步骤的响应数据中提取值，保存为变量，供后续步骤使用。

关联变量实现了步骤间的数据传递，让后续步骤能够使用前面步骤返回的数据，实现真正的多步骤业务流程测试。

##### 关联变量配置说明

**配置项说明**：

| 配置项 | 说明 | 示例 |
|--------|------|------|
| **关联来源** | 从哪个位置提取数据 | `RESPONSE_DATA`（响应体）、`RESPONSE_HEADER`（响应头） |
| **关联类型** | 使用什么方式提取 | `JSONPATH`（JSON路径）、`REGEXP`（正则表达式） |
| **关联表达式** | 具体的提取表达式 | `$[0].id`（JSONPath）、`"token: (.+)"`（正则） |
| **关联变量名** | 保存的变量名称 | `category_id`、`token`、`user_id` |

##### 关联变量示例

**示例1：提取分类ID**

```yaml
关联来源: RESPONSE_DATA      # 从响应体中提取
关联类型: JSONPATH           # 使用JSONPath表达式
关联表达式: $[0].id          # 提取第一个元素的id属性
关联变量名: category_id      # 保存为变量名 category_id
```

**执行过程**：

1. **步骤1的响应数据**：
   ```json
   [
     {
       "id": 1,
       "name": "测试技术",
       "isShow": 1
     }
   ]
   ```

2. **提取过程**：
   - 使用JSONPath表达式 `$[0].id` 提取值
   - 提取到：`1`
   - 保存为变量：`category_id = 1`

3. **后续步骤使用**：
   - 在查询参数中使用：`{"categoryId": "{{category_id}}"}` → `{"categoryId": "1"}`
   - 在断言中使用：期望值 `{{category_id}}` → `1`

##### 变量传递流程图

```
步骤1：查询课程分类列表
├─ 请求：GET /categories?isShow=1
├─ 响应：[{"id": 1, "name": "测试技术"}, ...]
├─ 关联变量提取：
│   └─ $[0].id → category_id = 1  ← 提取并保存
└─ 变量保存到上下文

步骤2：查询课程列表
├─ 请求：GET /courses?categoryId={{category_id}}
│   └─ 变量替换：categoryId={{category_id}} → categoryId=1
├─ 响应：[{"id": 1, "categoryId": 1, ...}, ...]
└─ 断言验证：
    └─ $[0].categoryId (1) EQUAL {{category_id}} (1) → ✅
```

##### 常见使用场景

**场景1：登录获取Token**

1. **步骤1（登录接口）**：配置关联变量
   ```yaml
   关联来源: RESPONSE_DATA
   关联类型: JSONPATH
   关联表达式: $.data.token
   关联变量名: token
   ```

2. **步骤2（需要认证的接口）**：在请求头中使用变量
   ```json
   {
     "Authorization": "Bearer {{token}}"
   }
   ```

**场景2：查询后使用ID**

1. **步骤1（查询列表）**：提取ID
   ```yaml
   关联表达式: $[0].id
   关联变量名: category_id
   ```

2. **步骤2（查询详情）**：在路径中使用变量
   ```
   路径: /categories/{{category_id}}
   实际: /categories/1
   ```

3. **步骤3（断言验证）**：验证数据一致性
   ```yaml
   断言：
   - 关联表达式: $.id
     期望值: {{category_id}}
   ```

##### 变量使用规则

**变量占位符格式**：
- 使用双大括号：`{{变量名}}`
- 例如：`{{category_id}}`、`{{token}}`、`{{user_id}}`

**变量使用位置**：
- ✅ 请求路径：`/users/{{user_id}}`
- ✅ 查询参数：`{"id": "{{category_id}}"}`
- ✅ 请求头：`{"Authorization": "Bearer {{token}}"}`
- ✅ 请求体：`{"categoryId": {{category_id}}}`
- ✅ 断言期望值：`{{category_id}}`

**变量生命周期**：
- 变量在步骤执行时被提取和保存
- 在整个用例执行期间有效
- 后续步骤可以访问前面步骤提取的变量
- 用例执行完成后，变量上下文被清理

##### 为什么需要关联变量？

**1. 实现动态数据传递**
- 如果步骤1返回的数据每次不同，硬编码会导致测试失败
- 使用变量可以自动使用实际返回的值

**2. 验证数据一致性**
- 使用变量可以验证返回的数据是否与前面步骤一致
- 例如：验证查询的课程是否属于指定的分类

**3. 支持业务流程测试**
- 真正的业务流程测试需要步骤间的数据传递
- 没有关联变量，每个步骤都是独立的，无法实现业务流程测试

##### 操作步骤

**场景**：登录接口返回token，后续接口需要使用token

1. **在登录接口步骤中，配置关联变量**
   ```yaml
   关联来源: RESPONSE_DATA
   关联类型: JSONPATH
   关联表达式: $.data.token
   关联变量名: token
   ```

2. **在后续接口步骤中，使用变量**
   - 在请求头中使用：
     ```json
     {"Authorization": "Bearer {{token}}"}
     ```
   - 在断言中使用：
     ```yaml
     期望值: {{token}}
     ```

#### 3.3.2 多步骤场景编排

**场景**：完整的业务流程测试（登录 → 查询用户信息 → 修改用户信息）

**操作步骤：**
1. 创建多个API接口（登录、查询、修改）
2. 在用例中添加多个步骤，按顺序排列
3. 配置步骤间的变量传递
4. 执行用例，系统会按顺序执行所有步骤

#### 3.3.3 断言类型

接口自动化测试支持多种断言类型，用于验证接口响应的正确性：

- **响应码断言**：验证HTTP状态码
- **JSONPath断言**：使用JSONPath提取响应字段并验证
- **正则表达式断言**：使用正则表达式匹配响应内容
- **响应时间断言**：验证接口响应时间

##### 断言类型详解

###### 1. REGEXP（正则表达式）

**含义**：使用正则表达式从文本中匹配和提取数据。

**适用场景**：
- 响应码断言（推荐使用REGEXP类型）
- 响应头断言
- 简单文本响应断言

**简单理解**：
- 正则表达式是一种强大的文本模式匹配工具
- 类似于高级的文本搜索，可以匹配特定模式（如数字、字母、特定格式等）

**常用正则表达式示例**：
```
"200"          # 匹配字符串 "200"
"\\d+"         # 匹配一个或多个数字（如：200, 201, 404等）
"[a-zA-Z]+"    # 匹配一个或多个字母
"\\d{3,4}"     # 匹配3到4位数字
```

**配置示例**：
```json
{
  "from": "RESPONSE_CODE",
  "type": "REGEXP",
  "action": "EQUAL",
  "express": "200",      // 正则表达式：匹配 "200"
  "value": "200"         // 期望值：响应码应该是 "200"
}
```

**执行过程**：
1. 从响应码中提取值（如：`200`）
2. 用正则表达式 `"200"` 匹配 → 匹配到 `"200"`
3. 比较：`"200"` EQUAL `"200"` → ✅ 通过

###### 2. JSONPATH（JSON路径）

**含义**：使用路径表达式从JSON数据中提取值，类似于文件系统中的路径。

**适用场景**：
- 响应体断言（JSON格式数据）
- 从复杂JSON结构中提取特定字段
- 数组数据提取

**简单理解**：
- JSONPath就像用路径访问文件：`C:\Users\Documents\file.txt`
- JSONPath用路径访问JSON数据：`$.users[0].name`

**基本语法**：
- `$` - 根节点
- `[0]` - 数组索引（第一个元素，从0开始）
- `.name` - 对象属性
- `[*]` - 匹配所有元素

**JSONPath表达式示例**：

假设响应数据是：
```json
[
  {
    "id": 1,
    "name": "测试技术",
    "isShow": 1,
    "courses": [
      {"id": 101, "title": "Python测试"},
      {"id": 102, "title": "Java测试"}
    ]
  },
  {
    "id": 2,
    "name": "开发技术",
    "isShow": 0
  }
]
```

常用JSONPath表达式：
- `$[0]` → 获取第一个对象：`{"id": 1, "name": "测试技术", ...}`
- `$[0].name` → 获取第一个对象的name属性：`"测试技术"`
- `$[0].isShow` → 获取第一个对象的isShow属性：`1`
- `$[1].name` → 获取第二个对象的name属性：`"开发技术"`
- `$[*].name` → 获取所有对象的name属性：`["测试技术", "开发技术"]`
- `$[0].courses[0].title` → 获取嵌套数组的值：`"Python测试"`
- `$.length` → 获取数组长度（如果支持）

**配置示例**：
```json
{
  "from": "RESPONSE_DATA",
  "type": "JSONPATH",
  "action": "EQUAL",
  "express": "$[0].name",      // JSONPath：获取第一个元素的name属性
  "value": "测试技术"           // 期望值：name应该是 "测试技术"
}
```

**执行过程**：
1. 响应数据为数组格式
2. 用JSONPath `"$[0].name"` 提取 → 得到 `"测试技术"`
3. 比较：`"测试技术"` EQUAL `"测试技术"` → ✅ 通过

##### 断言动作（Action）

断言动作定义了如何比较提取的值与期望值：

| 动作 | 含义 | 示例 |
|------|------|------|
| **EQUAL（等于）** | 提取的值必须完全等于期望值 | `"200"` == `"200"` ✅ |
| **NOT_EQUAL（不等于）** | 提取的值必须不等于期望值 | `"200"` != `"404"` ✅ |
| **CONTAIN（包含）** | 提取的值必须包含期望值（字符串包含） | `"测试技术课程"` 包含 `"测试技术"` ✅ |
| **NOT_CONTAIN（不包含）** | 提取的值必须不包含期望值 | `"开发技术"` 不包含 `"测试"` ✅ |
| **GREAT_THEN（大于）** | 提取的值必须大于期望值（数字比较） | `5` > `3` ✅ |
| **LESS_THEN（小于）** | 提取的值必须小于期望值（数字比较） | `2` < `5` ✅ |

##### 关联表达式（Express）

关联表达式是用于提取数据的表达式，根据断言类型不同，表达式也不同：

**使用REGEXP类型时**：
- 表达式是正则表达式
- 示例：`"200"`、`"\\d+"`、`"name: (.+)"`

**使用JSONPATH类型时**：
- 表达式是JSON路径
- 示例：`"$[0].name"`、`"$[0].isShow"`、`"$.id"`、`"$.data.list[0]"`

##### 完整断言配置示例

**示例1：响应码断言（REGEXP）**
```json
{
  "from": "RESPONSE_CODE",
  "type": "REGEXP",
  "action": "EQUAL",
  "express": "200",
  "value": "200"
}
```
验证响应码是否为200。

**示例2：响应数据断言（JSONPATH）**
```json
{
  "from": "RESPONSE_DATA",
  "type": "JSONPATH",
  "action": "EQUAL",
  "express": "$[0].name",
  "value": "测试技术"
}
```
验证第一个元素的name属性是否为"测试技术"。

**示例3：数字比较断言（JSONPATH + GREAT_THEN）**
```json
{
  "from": "RESPONSE_DATA",
  "type": "JSONPATH",
  "action": "GREAT_THEN",
  "express": "$.length",
  "value": "1"
}
```
验证数组长度是否大于1。

##### 类型选择建议

| 特性 | REGEXP（正则表达式） | JSONPATH（JSON路径） |
|------|---------------------|---------------------|
| **用途** | 从文本中匹配模式 | 从JSON中提取值 |
| **适用场景** | 响应码、响应头、文本数据 | JSON格式的响应体 |
| **表达式示例** | `"200"`, `"\\d+"` | `"$[0].name"`, `"$.id"` |
| **学习难度** | 中等（需要学习正则语法） | 简单（类似文件路径） |
| **推荐使用** | 响应码断言 | 响应体断言（JSON数据） |

---

## 四、UI自动化测试

### 4.1 功能概述

UI自动化测试基于Selenium，支持Web页面的自动化测试，包括：
- 多种浏览器支持（Chrome、Firefox、Safari等）
- 多种元素定位方式
- 丰富的页面操作（点击、输入、选择等）
- 自动截图保存
- 详细测试报告

### 4.2 使用流程

#### 步骤1：创建UI用例模块

1. 进入 **"UI自动化"** → **"用例管理"**
2. 在左侧模块区域，点击 **"+"** 按钮
3. 输入模块名称（如：登录页面测试）

#### 步骤2：创建UI用例

1. 选择已创建的模块
2. 点击 **"+ 新增"** 按钮
3. 填写用例信息：
   - **名称**：用例名称（如：用户登录测试）
   - **描述**：用例描述
   - **浏览器**：选择浏览器类型（Chrome/Safari等）
   - **等级**：P0/P1/P2
4. 点击 **"保存"**

#### 步骤3：添加用例步骤

1. 选择已创建的用例
2. 在用例详情页面，点击 **"+ 新增步骤"**
3. 填写步骤信息：

**步骤类型说明：**

##### 浏览器操作
- **打开窗口**：打开指定URL
  - 值：`https://www.example.com`
- **关闭窗口**：关闭当前窗口
- **切换窗口**：通过句柄或索引切换窗口
- **最大化窗口**：最大化浏览器窗口
- **浏览器前进/后退/刷新**：浏览器导航操作

##### 元素定位方式
- **ID定位**：通过元素ID定位
- **Name定位**：通过name属性定位
- **XPath定位**：通过XPath表达式定位
- **CSS选择器定位**：通过CSS选择器定位
- **链接文本定位**：通过链接文本定位
- **类名定位**：通过class名称定位

##### 鼠标操作
- **鼠标左键点击**：点击元素
- **鼠标右键点击**：右键点击元素
- **鼠标双击**：双击元素
- **鼠标移入**：鼠标悬停在元素上
- **鼠标拖拽**：拖拽元素到目标位置

##### 键盘操作
- **键盘输入**：在输入框中输入文本
  - 定位表达式：元素定位
  - 值：要输入的文本
- **清空输入框**：清空输入框内容
- **表单提交**：提交表单

##### 断言操作
- **网页标题断言**：验证页面标题
  - 期望键：title
  - 期望值：页面标题
- **网页URL断言**：验证页面URL
- **元素文本断言**：验证元素文本内容
- **元素启用断言**：验证元素是否启用
- **元素选中断言**：验证元素是否被选中

##### 等待操作
- **强制等待**：等待指定时间（毫秒）
- **隐式等待**：设置隐式等待时间

##### 其他操作
- **截图**：对当前页面进行截图（自动保存到MinIO）

**示例：百度搜索测试用例**

| 步骤 | 操作类型 | 定位方式 | 定位表达式 | 值 | 描述 |
|------|---------|---------|-----------|-----|------|
| 1 | 打开窗口 | - | - | https://www.baidu.com | 打开百度首页 |
| 2 | 键盘输入 | ID | kw | 自动化测试 | 在搜索框输入关键词 |
| 3 | 鼠标左键点击 | ID | su | - | 点击搜索按钮 |
| 4 | 断言 | 网页标题 | - | 自动化测试_百度搜索 | 验证搜索结果页标题 |
| 5 | 截图 | - | - | - | 截图保存 |

#### 步骤4：执行用例

1. 在用例列表中，点击用例的 **"执行"** 按钮
2. 系统会启动浏览器（如果是Safari，会显示浏览器窗口；如果是Chrome，默认headless模式）
3. 执行过程中可以查看：
   - 每个步骤的执行状态
   - 元素定位是否成功
   - 断言结果
   - 截图（如果配置了截图）
4. 执行完成后，查看详细报告

### 4.3 高级功能

#### 4.3.1 元素定位技巧

**XPath定位示例：**
```
//input[@id='username']           # 通过ID定位
//button[contains(text(),'登录')]  # 通过文本内容定位
//div[@class='container']//a      # 相对路径定位
```

**CSS选择器定位示例：**
```
#username                        # ID选择器
.login-btn                       # 类选择器
input[type='text']               # 属性选择器
div.container > a                # 子元素选择器
```

#### 4.3.2 等待机制

- **强制等待**：固定等待时间，适用于已知等待时长的场景
- **隐式等待**：设置全局等待时间，适用于元素加载时间不固定的场景
- **显式等待**：系统自动处理，等待元素出现后再操作

#### 4.3.3 截图功能

- 每个步骤可以配置是否截图
- 截图自动保存到MinIO对象存储
- 在测试报告中可以查看截图

---

## 五、压力测试

### 5.1 功能概述

压力测试基于Apache JMeter 5.5引擎，支持：
- 上传JMX脚本执行
- 在线配置生成压测脚本
- 线程组配置（并发数、Ramp-Up时间等）
- CSV数据文件支持
- 实时性能监控
- 可视化压测报告

### 5.2 使用流程

#### 方式一：上传JMX脚本

##### 步骤1：创建压测用例模块

1. 进入 **"压测"** → **"用例管理"**
2. 在左侧模块区域，点击 **"+"** 按钮
3. 输入模块名称（如：接口压测）

##### 步骤2：创建压测用例（JMX方式）

1. 选择已创建的模块
2. 点击 **"+ 新增"** 按钮
3. 填写用例信息：
   - **名称**：用例名称（如：用户登录接口压测）
   - **描述**：用例描述
   - **压测来源类型**：选择 **"JMX"**
   - **JMX文件**：上传JMX脚本文件
   - **环境**：选择测试环境
4. 点击 **"保存"**

**JMX脚本要求：**
- 必须是有效的JMeter测试计划文件（.jmx格式）
- 建议使用JMeter GUI工具创建和验证脚本
- 脚本中应包含线程组、HTTP请求采样器等必要组件

##### 步骤3：执行压测

1. 在用例列表中，点击用例的 **"执行"** 按钮
2. 系统会解析JMX脚本并执行压测
3. 执行过程中可以查看实时统计信息
4. 执行完成后，查看详细压测报告

#### 方式二：在线配置生成脚本

##### 步骤1：创建压测用例（SIMPLE方式）

1. 选择已创建的模块
2. 点击 **"+ 新增"** 按钮
3. 填写用例信息：
   - **名称**：用例名称（如：用户查询接口压测）
   - **描述**：用例描述
   - **压测来源类型**：选择 **"SIMPLE"**
   - **环境**：选择测试环境

##### 步骤2：配置线程组

1. 在用例详情页面，配置**线程组配置**：
   - **线程数**：并发用户数（如：100）
   - **Ramp-Up时间**：启动所有线程的时间（秒，如：10）
   - **循环次数**：每个线程执行的次数（如：5，或选择"永远"）
   - **持续时间**：压测持续时间（秒，如：60）

**示例配置：**
```
线程数：100
Ramp-Up时间：10秒
循环次数：永远
持续时间：60秒
```
含义：100个并发用户，在10秒内全部启动，持续压测60秒

##### 步骤3：配置HTTP请求

1. 配置请求信息：
   - **路径**：接口路径（如：/api/user/list）
   - **方法**：GET/POST/PUT/DELETE等
   - **查询参数**：URL参数（JSON格式）
   - **请求头**：HTTP请求头（JSON格式）
   - **请求体**：请求体内容
   - **Body类型**：JSON/form-data等

##### 步骤4：配置断言（可选）

1. 配置断言规则：
   - **响应码断言**：验证HTTP状态码
   - **响应内容断言**：验证响应内容

##### 步骤5：配置CSV数据文件（可选）

1. 如果需要数据驱动测试：
   - 上传CSV文件
   - 配置CSV变量名
   - 在请求中使用变量（如：`{{username}}`）

##### 步骤6：执行压测

1. 点击 **"执行"** 按钮
2. 系统会动态生成JMX脚本并执行
3. 执行过程中查看实时统计
4. 执行完成后查看报告

### 5.3 压测报告解读

#### 5.3.1 聚合报告指标

- **样本数（Samples）**：总请求数
- **平均响应时间（Average）**：所有请求的平均响应时间
- **最小响应时间（Min）**：最快响应时间
- **最大响应时间（Max）**：最慢响应时间
- **错误率（Error %）**：失败请求的百分比
- **吞吐量（Throughput）**：每秒处理的请求数（TPS）

#### 5.3.2 性能指标分析

**响应时间分析：**
- **< 200ms**：优秀
- **200ms - 500ms**：良好
- **500ms - 1000ms**：一般
- **> 1000ms**：需要优化

**错误率分析：**
- **< 1%**：正常
- **1% - 5%**：需要关注
- **> 5%**：严重问题

**TPS分析：**
- 根据业务需求评估
- 通常需要达到业务峰值流量的1.5-2倍

### 5.4 高级功能

#### 5.4.1 分布式压测

- 支持多台压测机器同时执行
- 通过Kafka消息队列协调执行
- 结果自动聚合

#### 5.4.2 数据驱动测试

**使用CSV文件进行数据驱动：**

1. 准备CSV文件（如：users.csv）：
```csv
username,password
admin,123456
user1,password1
user2,password2
```

2. 在压测用例中上传CSV文件
3. 在请求体中使用变量：
```json
{
  "username": "{{username}}",
  "password": "{{password}}"
}
```

4. 执行压测时，系统会循环使用CSV中的数据

---

## 六、测试报告

### 6.1 报告类型

平台支持三种类型的测试报告：
- **接口测试报告**：接口自动化测试的执行结果
- **UI测试报告**：UI自动化测试的执行结果
- **压测报告**：压力测试的执行结果

### 6.2 查看报告

#### 6.2.1 接口测试报告

1. 进入 **"测试报告"** → **"接口测试"**
2. 查看报告列表：
   - 报告名称
   - 执行状态（执行中/成功/失败）
   - 开始时间/结束时间
   - 消耗时间
   - 通过数量/失败数量
3. 点击报告名称，查看详细报告：
   - 每个步骤的请求和响应
   - 断言结果
   - 执行时间
   - 错误信息（如果有）

#### 6.2.2 UI测试报告

1. 进入 **"测试报告"** → **"UI测试"**
2. 查看报告列表
3. 点击报告名称，查看详细报告：
   - 每个步骤的执行状态
   - 元素定位信息
   - 断言结果
   - 截图（如果配置了截图）
   - 错误信息（如果有）

#### 6.2.3 压测报告

1. 进入 **"测试报告"** → **"压力测试"**
2. 查看报告列表
3. 点击报告名称，查看详细报告：
   - 聚合报告（样本数、平均响应时间、TPS等）
   - 响应时间分布
   - 错误率统计
   - 每个请求的详细数据

### 6.3 报告功能

- ✅ **在线预览**：直接在浏览器中查看报告
- ✅ **报告分享**：生成分享链接（如果支持）
- ✅ **报告下载**：下载报告为PDF或Excel格式（如果支持）
- ✅ **历史对比**：对比不同时间段的测试结果

---

## 七、项目管理

### 7.1 项目创建与管理

1. **创建项目**：
   - 进入"项目管理"
   - 点击"+ 新增"
   - 填写项目名称和描述
   - 保存后，当前用户自动成为项目管理员

2. **编辑项目**：
   - 点击项目列表中的"编辑"按钮
   - 修改项目信息
   - 保存

3. **删除项目**：
   - 点击项目列表中的"删除"按钮
   - 确认删除（注意：删除项目会删除项目下的所有数据）

### 7.2 环境管理

1. **创建环境**：
   - 进入"环境管理"
   - 点击"+ 新增"
   - 填写环境信息（名称、协议、域名、端口）
   - 保存

2. **环境用途**：
   - 接口测试时选择环境
   - 压测时选择环境
   - 支持多环境切换

### 7.3 用户与权限

1. **用户管理**：
   - 进入"用户管理"
   - 查看用户列表
   - 添加/编辑/删除用户

2. **角色管理**：
   - 进入"角色管理"
   - 创建角色（如：测试工程师、测试经理）
   - 为角色分配权限

3. **权限说明**：
   - **PROJECT_READ_ONLY**：只读权限
   - **PROJECT_READ_WRITE**：读写权限
   - **PROJECT_AUTH**：管理权限

---

## 八、面试展示要点

### 8.1 项目亮点

1. **技术栈全面**：
   - 微服务架构（Spring Cloud）
   - 前后端分离（Vue 3 + Spring Boot）
   - 多种测试引擎集成（RestAssured、Selenium、JMeter）

2. **功能完整**：
   - 三大测试类型全覆盖
   - 完整的测试流程（创建→执行→报告）
   - 项目管理、权限控制等企业级功能

3. **技术难点**：
   - 接口关联（变量提取和传递）
   - 递归执行引擎（多步骤场景编排）
   - JMeter引擎封装（动态生成JMX脚本）
   - 分布式压测（Kafka消息队列）

### 8.2 演示流程建议

#### 第一步：项目概述（2分钟）
- 介绍项目背景和解决的问题
- 展示平台整体架构
- 说明三大核心功能

#### 第二步：接口自动化演示（3分钟）
1. 创建项目和环境
2. 创建API接口（登录接口）
3. 创建API用例和步骤
4. 配置断言和关联关系
5. 执行用例并展示报告

**重点展示：**
- 接口关联功能（提取token并传递给后续接口）
- 多步骤场景编排
- 详细的测试报告

#### 第三步：UI自动化演示（3分钟）
1. 创建UI用例
2. 添加步骤（打开页面→输入→点击→断言）
3. 执行用例
4. 展示执行过程和报告

**重点展示：**
- 多种元素定位方式
- 浏览器操作
- 截图功能

#### 第四步：压测演示（3分钟）
1. 创建压测用例（在线配置方式）
2. 配置线程组（100并发，持续60秒）
3. 配置HTTP请求
4. 执行压测
5. 展示压测报告

**重点展示：**
- 实时性能监控
- 详细的性能指标（TPS、响应时间、错误率）
- 可视化报告

#### 第五步：技术亮点总结（2分钟）
- 接口关联实现原理
- 递归执行引擎设计
- JMeter引擎封装
- 分布式架构设计

### 8.3 常见面试问题准备

**Q1: 接口关联是如何实现的？**

**A:** 
- 使用JSONPath从响应中提取变量
- 使用ThreadLocal存储变量（线程隔离）
- 在后续请求中使用变量替换（支持请求头、请求体、URL参数）

**Q2: 多步骤场景是如何执行的？**

**A:**
- 使用递归方法执行步骤列表
- 每个步骤执行完成后，提取变量并保存到上下文
- 下一个步骤从上下文获取变量并使用
- 支持步骤间的数据传递和依赖

**Q3: JMeter引擎是如何集成的？**

**A:**
- 封装JMeter的StandardJMeterEngine
- 支持两种方式：上传JMX脚本和动态生成JMX
- 通过JMeter的API执行压测
- 实时采集压测结果并生成报告

**Q4: 分布式压测是如何实现的？**

**A:**
- 使用Kafka消息队列协调多台压测机器
- 每台机器执行部分压测任务
- 结果通过Kafka发送到数据服务
- 数据服务聚合所有结果并生成报告

**Q5: 测试报告是如何生成的？**

**A:**
- 执行过程中实时发送结果到数据服务
- 数据服务保存到数据库
- 前端通过API查询报告数据
- 支持在线预览和下载

### 8.4 技术栈说明

**后端技术栈：**
- Spring Boot 3.0：微服务框架
- Spring Cloud：服务治理
- MyBatis Plus：ORM框架
- Sa-Token：权限认证
- Nacos：服务注册与配置中心
- Redis：缓存
- Kafka：消息队列
- MinIO：对象存储

**前端技术栈：**
- Vue 3：前端框架
- TypeScript：类型安全
- Ant Design Vue：UI组件库
- Pinia：状态管理
- Vite：构建工具

**测试引擎：**
- RestAssured：接口测试
- Selenium 4.10：UI自动化
- Apache JMeter 5.5：压力测试

---

## 九、最佳实践

### 9.1 接口自动化最佳实践

1. **模块化设计**：
   - 按业务模块组织API接口
   - 用例模块对应业务流程

2. **变量管理**：
   - 使用有意义的变量名
   - 统一变量命名规范

3. **断言设计**：
   - 关键字段必须断言
   - 使用多种断言方式组合

4. **数据准备**：
   - 使用测试数据
   - 避免依赖生产数据

### 9.2 UI自动化最佳实践

1. **元素定位**：
   - 优先使用ID定位
   - 避免使用绝对XPath
   - 使用相对稳定的定位方式

2. **等待机制**：
   - 合理使用等待
   - 避免过度等待影响执行速度

3. **截图策略**：
   - 关键步骤截图
   - 失败步骤必须截图

### 9.3 压测最佳实践

1. **压测策略**：
   - 从低并发开始，逐步增加
   - 观察系统响应时间变化
   - 找到系统性能瓶颈

2. **数据准备**：
   - 使用测试数据
   - 避免压测影响生产数据

3. **监控指标**：
   - 关注响应时间
   - 关注错误率
   - 关注TPS变化

---

## 十、常见问题

### Q1: 接口执行失败怎么办？

**A:** 
1. 检查环境配置是否正确
2. 检查接口路径和方法是否正确
3. 检查请求参数格式是否正确
4. 查看详细错误信息

### Q2: UI自动化元素定位失败？

**A:**
1. 检查定位表达式是否正确
2. 检查元素是否已加载（增加等待时间）
3. 尝试其他定位方式
4. 查看页面截图确认元素是否存在

### Q3: 压测结果不准确？

**A:**
1. 检查压测环境是否独立
2. 检查网络延迟影响
3. 检查服务器资源使用情况
4. 多次执行取平均值

### Q4: 如何提高测试执行速度？

**A:**
1. 减少不必要的等待时间
2. 优化用例步骤数量
3. 使用并行执行（如果支持）
4. 优化断言逻辑

---

## 附录

### A. 快捷键

- **Ctrl + S**：保存
- **Ctrl + Enter**：执行
- **Esc**：取消

### B. 支持的文件格式

- **JMX**：JMeter测试脚本
- **CSV**：数据驱动测试文件
- **JSON**：配置文件

### C. 系统限制

- 单个用例最大步骤数：100
- 单个压测最大并发数：1000
- 单个报告最大保存时间：30天

---

**文档版本**: v1.0  
**最后更新**: 2026年1月12日  
**维护者**: Glen Lee
