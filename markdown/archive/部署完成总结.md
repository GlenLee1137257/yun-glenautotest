# Glenè‡ªåŠ¨åŒ–æµ‹è¯•å¹³å° - éƒ¨ç½²å®Œæˆæ€»ç»“

## ğŸ‰ éƒ¨ç½²å‡†å¤‡å·¥ä½œå·²å®Œæˆ

æ‚¨å¥½!æˆ‘å·²ç»ä¸ºæ‚¨çš„Glenè‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°å®Œæˆäº†å®Œæ•´çš„éƒ¨ç½²å‡†å¤‡å·¥ä½œã€‚

---

## ğŸ“¦ å·²åˆ›å»ºçš„éƒ¨ç½²èµ„æº

### 1. è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

| è„šæœ¬åç§° | åŠŸèƒ½è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|---------|---------|---------|
| `check-environment.sh` | æ£€æŸ¥æ‰€æœ‰ç¯å¢ƒä¾èµ–æ˜¯å¦å°±ç»ª | éƒ¨ç½²å‰å¿…æŸ¥ |
| `setup-environment.sh` | è‡ªåŠ¨å®‰è£…JDKã€Mavenã€Node.jsã€pnpm | é¦–æ¬¡éƒ¨ç½² |
| `deploy.sh` | å®Œæ•´éƒ¨ç½²æµç¨‹(å«ç¼–è¯‘) | é¦–æ¬¡éƒ¨ç½²æˆ–é‡æ–°éƒ¨ç½² |
| `restart-all.sh` | å¿«é€Ÿå¯åŠ¨æ‰€æœ‰æœåŠ¡(å·²ä¿®å¤è·¯å¾„) | æ—¥å¸¸å¯åŠ¨ |
| `stop-all.sh` | åœæ­¢æ‰€æœ‰æœåŠ¡ | æ—¥å¸¸åœæ­¢ |
| `README-DEPLOY.sh` | æ˜¾ç¤ºéƒ¨ç½²åŠ©æ‰‹ä¿¡æ¯ | æŸ¥çœ‹å¿«é€ŸæŒ‡å¼• |

### 2. è¯¦ç»†æ–‡æ¡£

| æ–‡æ¡£åç§° | å†…å®¹è¯´æ˜ |
|---------|---------|
| `QUICKSTART.md` | å¿«é€Ÿå¼€å§‹æŒ‡å—,æœ€ç®€åŒ–çš„éƒ¨ç½²è¯´æ˜ |
| `DEPLOYMENT_SUMMARY.md` | å®Œæ•´çš„éƒ¨ç½²æ‘˜è¦å’Œé…ç½®è¯´æ˜ |
| `WSL2éƒ¨ç½²æŒ‡å—.md` | WSL2ç¯å¢ƒä¸“ç”¨çš„è¯¦ç»†éƒ¨ç½²æ•™ç¨‹ |
| `markdown/REFACTORING_SUMMARY.md` | é¡¹ç›®é‡æ„å’Œéƒ¨ç½²æ€»ç»“ |

### 3. å·²ä¿®å¤çš„é—®é¢˜

âœ… ä¿®æ­£äº† `restart-all.sh` ä¸­çš„è·¯å¾„é—®é¢˜ (`/opt/yun-glenautotest` â†’ `/home/hinkad/yun-glenautotest`)  
âœ… ç»Ÿä¸€äº†æ‰€æœ‰è„šæœ¬çš„é¡¹ç›®è·¯å¾„å¼•ç”¨  
âœ… æ·»åŠ äº†ç¯å¢ƒæ£€æŸ¥å’Œé”™è¯¯å¤„ç†  
âœ… åˆ›å»ºäº†å®Œæ•´çš„éƒ¨ç½²æ–‡æ¡£ä½“ç³»  

---

## ğŸš€ ç°åœ¨å¼€å§‹éƒ¨ç½²

### å½“å‰ç¯å¢ƒçŠ¶æ€

æ‚¨æ­£åœ¨ **WSL2 Ubuntu 24.04** ç¯å¢ƒä¸­,ç¯å¢ƒæ£€æŸ¥æ˜¾ç¤ºéœ€è¦:

1. âŒ **Docker Desktop** - éœ€è¦åœ¨Windowsä¸Šå®‰è£…å¹¶å¯ç”¨WSLé›†æˆ
2. âŒ **JDK 17** - éœ€è¦å®‰è£…
3. âš ï¸  **Maven** - å·²å®‰è£…ä½†éœ€è¦é…ç½®JAVA_HOME
4. âŒ **Node.js** - éœ€è¦å®‰è£…
5. âš ï¸  **pnpm** - å·²å®‰è£…ä½†ä¾èµ–Node.js

### éƒ¨ç½²æ­¥éª¤ (æŒ‰é¡ºåºæ‰§è¡Œ)

#### Step 1: é…ç½®Docker Desktop (åœ¨Windowsä¸Š)

1. ä¸‹è½½å¹¶å®‰è£… [Docker Desktop for Windows](https://www.docker.com/products/docker-desktop)
2. å¯åŠ¨ Docker Desktop
3. è¿›å…¥ Settings â†’ Resources â†’ WSL Integration
4. å¯ç”¨ "Enable integration with my default WSL distro" æˆ–é€‰æ‹© Ubuntu-24.04
5. ç‚¹å‡» "Apply & Restart"
6. åœ¨WSL2ä¸­éªŒè¯: `docker --version` å’Œ `docker ps`

#### Step 2: å®‰è£…å…¶ä»–ä¾èµ– (åœ¨WSL2ä¸­)

```bash
cd /home/hinkad/yun-glenautotest

# æŸ¥çœ‹éƒ¨ç½²åŠ©æ‰‹
./README-DEPLOY.sh

# æ£€æŸ¥ç¯å¢ƒ
./check-environment.sh

# å®‰è£…ç¼ºå¤±çš„ç¯å¢ƒ (éœ€è¦sudoå¯†ç )
./setup-environment.sh
```

#### Step 3: éƒ¨ç½²é¡¹ç›®

Docker Desktopé…ç½®å®Œæˆå,è¿è¡Œ:

```bash
# æ–¹å¼1: å®Œæ•´éƒ¨ç½²(é¦–æ¬¡éƒ¨ç½²æ¨è)
./deploy.sh

# æ–¹å¼2: å¿«é€Ÿå¯åŠ¨(å¦‚æœå·²ç¼–è¯‘è¿‡)
./restart-all.sh
```

---

## ğŸŒ éƒ¨ç½²å®Œæˆåçš„è®¿é—®åœ°å€

### å‰ç«¯åº”ç”¨
- **URL**: http://localhost:5173
- **æµ‹è¯•è´¦å·**: 13432898570
- **å¯†ç **: C1137257

### Nacosé…ç½®ä¸­å¿ƒ
- **URL**: http://localhost:8848/nacos
- **ç”¨æˆ·å**: nacos
- **å¯†ç **: nacos
- **ç”¨é€”**: æŸ¥çœ‹å¾®æœåŠ¡æ³¨å†Œæƒ…å†µ

### MinIOå¯¹è±¡å­˜å‚¨
- **URL**: http://localhost:9001
- **ç”¨æˆ·å**: admin
- **å¯†ç **: glen123456
- **ç”¨é€”**: ç®¡ç†æµ‹è¯•æ–‡ä»¶å’Œæˆªå›¾

### MySQLæ•°æ®åº“
- **Host**: localhost:3306
- **ç”¨æˆ·å**: root
- **å¯†ç **: glen123456 (é…ç½®åœ¨docker-compose.yml)

### Redisç¼“å­˜
- **Host**: localhost:6379
- **å¯†ç **: glen123456

---

## ğŸ“Š æœåŠ¡æ¶æ„é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    å‰ç«¯ Vue3 + Vite  :5173             â”‚
â”‚    http://localhost:5173                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    APIç½‘å…³ glen-gateway  :8000         â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚          â”‚          â”‚
    â†“          â†“          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Accountâ”‚ â”‚  Data  â”‚ â”‚ Engine â”‚
â”‚  :8081 â”‚ â”‚  :8082 â”‚ â”‚  :8083 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚          â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“          â†“          â†“    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ MySQL  â”‚ â”‚Redis â”‚ â”‚Nacos â”‚ â”‚Kafka â”‚
â”‚ :3306  â”‚ â”‚:6379 â”‚ â”‚:8848 â”‚ â”‚:9092 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å¸¸ç”¨è¿ç»´å‘½ä»¤

### æœåŠ¡ç®¡ç†
```bash
# æŸ¥çœ‹éƒ¨ç½²åŠ©æ‰‹
./README-DEPLOY.sh

# æ£€æŸ¥ç¯å¢ƒ
./check-environment.sh

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./restart-all.sh

# åœæ­¢æ‰€æœ‰æœåŠ¡
./stop-all.sh
```

### çŠ¶æ€æŸ¥çœ‹
```bash
# Dockerå®¹å™¨çŠ¶æ€
docker compose ps

# åç«¯æœåŠ¡è¿›ç¨‹
ps aux | grep spring-boot

# å‰ç«¯æœåŠ¡è¿›ç¨‹
ps aux | grep vite

# ç«¯å£å ç”¨
netstat -tlnp | grep -E '3306|6379|8848|5173|8000'
```

### æ—¥å¿—æŸ¥çœ‹
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f backend/logs/gateway.log
tail -f backend/logs/account.log
tail -f backend/logs/engine.log
tail -f backend/logs/data.log
tail -f backend/logs/frontend.log

# Dockerå®¹å™¨æ—¥å¿—
docker logs -f glen-mysql
docker logs -f glen-nacos
docker logs -f glen-redis
```

---

## ğŸ“ éƒ¨ç½²åéªŒè¯æ¸…å•

éƒ¨ç½²å®Œæˆå,è¯·é€é¡¹éªŒè¯:

### ä¸­é—´ä»¶æœåŠ¡
- [ ] Docker Desktopåœ¨Windowsä¸Šæ­£å¸¸è¿è¡Œ
- [ ] è¿è¡Œ `docker compose ps` æ˜¾ç¤º6ä¸ªå®¹å™¨éƒ½æ˜¯ `Up` çŠ¶æ€
- [ ] MySQLå®¹å™¨å¥åº·: `docker exec glen-mysql mysql -uroot -pglen123456 -e "SELECT 1;"`
- [ ] Rediså¯ç”¨: `docker exec glen-redis redis-cli -a glen123456 PING`
- [ ] Nacosæ§åˆ¶å°å¯è®¿é—®: http://localhost:8848/nacos

### åç«¯æœåŠ¡
- [ ] è¿è¡Œ `ps aux | grep spring-boot` æ˜¾ç¤º4ä¸ªJavaè¿›ç¨‹
- [ ] Gatewayæ—¥å¿—æ— é”™è¯¯: `tail -n 50 backend/logs/gateway.log`
- [ ] Nacosä¸­æ˜¾ç¤º4ä¸ªæœåŠ¡å·²æ³¨å†Œ
- [ ] æ‰€æœ‰æœåŠ¡çŠ¶æ€ä¸º"å¥åº·"

### å‰ç«¯æœåŠ¡
- [ ] è¿è¡Œ `ps aux | grep vite` æ˜¾ç¤ºå‰ç«¯è¿›ç¨‹
- [ ] å‰ç«¯é¡µé¢å¯è®¿é—®: http://localhost:5173
- [ ] ç™»å½•é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] å¯ä»¥ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•

### æ•°æ®åº“
- [ ] 8ä¸ªæ•°æ®åº“å·²åˆ›å»º: `docker exec glen-mysql mysql -uroot -pglen123456 -e "SHOW DATABASES LIKE 'glen_%';"`
- [ ] æµ‹è¯•è´¦å·å­˜åœ¨äº glen_account æ•°æ®åº“

---

## â— å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 1. Dockerå‘½ä»¤æ‰¾ä¸åˆ°
```bash
# é—®é¢˜: The command 'docker' could not be found
# è§£å†³: 
# 1. ç¡®ä¿Docker Desktopå·²åœ¨Windowsä¸Šå®‰è£…å¹¶è¿è¡Œ
# 2. åœ¨Docker Desktopä¸­å¯ç”¨WSL Integration
# 3. åœ¨Windows PowerShellä¸­é‡å¯WSL: wsl --shutdown
# 4. é‡æ–°æ‰“å¼€WSLç»ˆç«¯
```

### 2. MavenæŠ¥JAVA_HOMEé”™è¯¯
```bash
# é—®é¢˜: The JAVA_HOME environment variable is not defined correctly
# è§£å†³:
export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
export PATH=$JAVA_HOME/bin:$PATH

# æ°¸ä¹…ç”Ÿæ•ˆ:
echo 'export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64' >> ~/.bashrc
source ~/.bashrc
```

### 3. ç«¯å£è¢«å ç”¨
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -tlnp | grep <ç«¯å£å·>

# åœæ­¢è¿›ç¨‹
kill -9 <PID>

# æˆ–åœæ­¢æ‰€æœ‰ç›¸å…³æœåŠ¡
./stop-all.sh
```

### 4. å®¹å™¨æ— æ³•å¯åŠ¨
```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs glen-mysql
docker logs glen-nacos

# é‡å¯å®¹å™¨
docker compose restart

# å®Œå…¨é‡å»º
docker compose down
docker compose up -d
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£ç´¢å¼•

- **QUICKSTART.md** - æœ€ç®€åŒ–çš„å¿«é€Ÿå¼€å§‹æŒ‡å—
- **DEPLOYMENT_SUMMARY.md** - å®Œæ•´çš„éƒ¨ç½²é…ç½®è¯´æ˜
- **WSL2éƒ¨ç½²æŒ‡å—.md** - WSL2ç¯å¢ƒè¯¦ç»†æ•™ç¨‹
- **markdown/é¡¹ç›®å¯åŠ¨æŒ‡å—.md** - Windowsæœ¬åœ°ç¯å¢ƒå¯åŠ¨æŒ‡å—
- **markdown/äº‘æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.md** - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ–¹æ¡ˆ
- **markdown/è¿ç»´æ‰‹å†Œ.md** - æ—¥å¸¸è¿ç»´æ“ä½œæ‰‹å†Œ
- **markdown/ä¸­é—´ä»¶éƒ¨ç½²æ¸…å•.md** - ä¸­é—´ä»¶é…ç½®æ¸…å•

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³æ‰§è¡Œ**: åœ¨Windowsä¸Šå®‰è£…å¹¶é…ç½®Docker Desktop
2. **ç„¶ååœ¨WSL2ä¸­æ‰§è¡Œ**:
   ```bash
   cd /home/hinkad/yun-glenautotest
   ./check-environment.sh
   ./setup-environment.sh
   ./deploy.sh
   ```
3. **éªŒè¯éƒ¨ç½²**: è®¿é—® http://localhost:5173 å¹¶ç™»å½•
4. **å¼€å§‹ä½¿ç”¨**: åˆ›å»ºé¡¹ç›®ã€é…ç½®æµ‹è¯•ç”¨ä¾‹

---

## ğŸ“ éœ€è¦å¸®åŠ©?

- æŸ¥çœ‹ç¯å¢ƒçŠ¶æ€: `./check-environment.sh`
- æ˜¾ç¤ºéƒ¨ç½²åŠ©æ‰‹: `./README-DEPLOY.sh`
- æŸ¥çœ‹è¯¦ç»†æ—¥å¿—: `tail -f backend/logs/gateway.log`
- é˜…è¯»æ–‡æ¡£: `cat WSL2éƒ¨ç½²æŒ‡å—.md`

---

**éƒ¨ç½²å‡†å¤‡å®Œæˆæ—¶é—´**: 2026-01-17  
**é¡¹ç›®è·¯å¾„**: /home/hinkad/yun-glenautotest  
**éƒ¨ç½²ç¯å¢ƒ**: WSL2 Ubuntu 24.04  
**çŠ¶æ€**: âœ… å‡†å¤‡å°±ç»ª,ç­‰å¾…æ‰§è¡Œ

ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©! ğŸš€
